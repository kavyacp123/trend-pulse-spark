(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1957,1498],{74021:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:14,height:14,xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M5 7.8h4M1.4 1.4h11.2v3.2H1.4V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6H2.2z",stroke:"currentColor",fill:"none"})))}},2648:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M5.2 1.999l-.354-.354L4.493 2l.353.354L5.2 2zm.8-.5h-.5v1H6v-1zM1.7 6.796v-.5h-1v.5h1zM6.446.046l-1.6 1.6.708.707 1.599-1.6-.707-.707zm-1.6 2.307l1.6 1.598.707-.707-1.6-1.599-.707.708zM6 2.499a4.3 4.3 0 014.3 4.297h1A5.3 5.3 0 006 1.499v1zm4.3 4.297A4.3 4.3 0 016 11.093v1a5.3 5.3 0 005.3-5.297h-1zM6 11.093a4.3 4.3 0 01-4.3-4.297h-1A5.3 5.3 0 006 12.093v-1z",fill:"currentColor"})))}},73936:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("rect",{x:.5,y:.5,width:15,height:15,rx:2.5,fill:"none",stroke:"currentColor",strokeWidth:1.2})),i||(i=/*#__PURE__*/o.createElement("path",{d:"M7 5h4v4m-6 2l6-6",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}},14758:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M4.5 6.5L1.328 9.672a2.828 2.828 0 104 4L8.5 10.5m2-2l3.172-3.172a2.829 2.829 0 00-4-4L6.5 4.5m-2 6l6-6",fill:"none",stroke:"currentColor"})))}},58256:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return /*#__PURE__*/i.createElement("svg",o({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/i.createElement("path",{d:"M6.3 5.1c-.492.492-2.279.707-3.312.83-.118.014-.122.153-.005.173.912.155 2.285.365 3.017 1.097.756.756 1.039 2.385 1.288 3.598.024.12.206.111.227-.01.222-1.285.787-3.14 1.394-3.747.647-.647 2.064-.725 3.014-.956.1-.024.1-.146-.001-.166-.957-.186-2.414.02-3.222-.52-.766-.51-1-2.8-1.18-4.145-.016-.12-.168-.12-.187 0C7.128 2.576 6.813 4.587 6.3 5.1zM3.167 8.819c-.158.157-.854.258-1.253.318-.056.009-.056.071 0 .08.342.056.898.156 1.185.442.302.3.362.926.44 1.416.01.06.09.057.099-.004.071-.506.224-1.171.466-1.412.25-.249.748-.344 1.085-.432.051-.014.049-.077-.004-.085-.356-.057-.862-.088-1.114-.34-.265-.262-.377-1.161-.446-1.497-.009-.042-.053-.047-.067-.006-.115.34-.214 1.343-.39 1.52zM1.8 2.7c-.146.145-.577.3-.904.397-.058.017-.051.106.008.115.278.041.638.131.896.388.3.3.467.89.585 1.366.015.06.108.054.118-.007.08-.492.256-1.12.497-1.359.22-.218.615-.325.92-.38.059-.011.062-.095.004-.109-.3-.074-.707-.195-.924-.411-.242-.241-.377-.82-.475-1.242l-.002-.009c-.014-.057-.104-.056-.121 0-.136.448-.437 1.087-.602 1.25z",strokeWidth:.7,stroke:"currentColor"})))}},92348:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/all",function(){return n(27324)}])},28749:function(e,t,n){"use strict";n.d(t,{F:function(){return eI}});var r,i,o=n(98788),a=n(70865),s=n(22970),l=n(52322),c=n(14670),u=n(2595),d=n(96933),f=n(2332),h=n(84054),m=n(41289),v=n(67640),p=function(e){return v.Z.delete("/workspace/".concat(e.workspaceId,"/memberships/").concat(e.memberId))},g=n(87394),b=n(50930),x=n(2784),y=n(96795),w=/*#__PURE__*/n.n(y),I=n(50389),C=n(45403),_=n(70599),k=n(95550),j=n(46572),E=n(15765),M=n(52553),S=n(41498),T=/*#__PURE__*/n.n(S),O=n(37637),P=/*#__PURE__*/n.n(O),A=n(34224),N=n(42541),Z=n(355),L=n(14758);function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var D=function(e){return /*#__PURE__*/x.createElement("svg",F({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/x.createElement("path",{d:"M12 8.5H8.5V12M14 8.5h1m-3 6H8m3-3h3.5V15M3 3.5h1m7 0h1m-9 8h1M1.5.5h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zm8 0h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zm-8 8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1z",fill:"none",stroke:"currentColor"})))},R=n(95162),B=n(47519),z=n(62866),W=n(95343),H=/*#__PURE__*/n.n(W),K=n(3635),G=n(25248),U=function(e){var t,n,r=e.workspace,i=e.workspaceMembersInfo,o=e.onInvite,a=r.ownerId,s=null===(t=(null!==(n=i.knownPeople)&&void 0!==n?n:[]).find(function(e){return e.memberId===a}))||void 0===t?void 0:t.email;return/*#__PURE__*/(0,l.jsx)(G.b,{unsearchableUserId:a,unsearchableEmail:s,unsearchableErrorMessage:"You cannot invite the file author.",placeholder:"Email address or name",onInvite:o})},V=n(52362),q=n(27198),X=n(98850),Q=/*#__PURE__*/n.n(X),J=function(e){var t=e.workspaceMembersInfo,n=t.invitedGuests,r=t.invitedMembers,i=t.pendingInvitees;return t.isLoading?null:/*#__PURE__*/(0,l.jsxs)("div",{className:(0,K.Z)(Q().userList,"column gapMedium"),children:[/*#__PURE__*/(0,l.jsx)(Y,(0,a.Z)({isOwnerRow:!0},e)),null==i?void 0:i.map(function(t){return/*#__PURE__*/(0,l.jsx)(Y,(0,a.Z)({invite:t},e),t.id)}),null==r?void 0:r.map(function(t){return/*#__PURE__*/(0,l.jsx)(Y,(0,a.Z)({member:t},e),t.userId)}),null==n?void 0:n.map(function(t){return/*#__PURE__*/(0,l.jsx)(Y,(0,a.Z)({guest:t},e),t.id)})]})},Y=function(e){var t,n=e.isOwnerRow,r=e.member,i=e.guest,o=e.invite,s=e.workspaceMembersInfo,c=e.workspace,u=n?null==c?void 0:c.ownerId:null!==(t=null==r?void 0:r.userId)&&void 0!==t?t:null==i?void 0:i.id,d=null==o?void 0:o.inviteeEmail,f=(0,x.useMemo)(function(){var e,t,n,r;return e={userId:u,email:d},t=s.knownPeople,n=e.userId,r=e.email,null==t?void 0:t.find(function(e){if(e.userId&&e.userId===n||e.email&&e.email===r)return!0})},[u,d,s.knownPeople]),h=(0,x.useMemo)(function(){var e,t,a,s;return t=(e={invite:o,member:r,guest:i,isOwnerRow:n}).invite,a=e.member,s=e.guest,e.isOwnerRow?"Author":t?"Invited":s?"Can Edit (Guest)":a?"Member":""},[o,r,i,n]),m=(0,x.useMemo)(function(){var t,n,r,i,o,a,s,l,c;return n=(t=e).invite,r=t.guest,i=t.member,o=t.isExternalUser,a=t.userId,s=t.onCancelInvite,l=t.onAddMemberToTeam,c=t.onRemoveMemberFromWorkspace,t.isOwnerRow?[]:n?[{label:"Cancel Invitation",asyncOnClick:function(){return s(n.id)}}]:o&&r&&r.inviteId?[{label:"Leave",asyncOnClick:function(){return c(r)}}]:r?[{label:"Add to Team",asyncOnClick:function(){return l(r)}},{label:"Remove Guest from File",asyncOnClick:function(){return c(r)}}]:i?[{label:i.userId===a?"Leave file":"Remove from File",asyncOnClick:function(){return c({id:i.userId,role:i.role})}}]:[]},[e]);return/*#__PURE__*/(0,l.jsxs)("div",{className:(0,K.Z)(Q().userRow,"rowCentered"),children:[/*#__PURE__*/(0,l.jsx)(q.a,(0,a.Z)({userId:u,email:d,avatarSize:26},f)),/*#__PURE__*/(0,l.jsx)(V.n,{unopenedText:h,dropdownOptions:m})]})},$=function(e){return e.isExternalUser?/*#__PURE__*/(0,l.jsx)(J,(0,a.Z)({},e)):/*#__PURE__*/(0,l.jsx)(ee,(0,a.Z)({},e))},ee=function(e){return/*#__PURE__*/(0,l.jsxs)("div",{className:"columnLeft gapMedium",style:{width:"100%"},children:[/*#__PURE__*/(0,l.jsx)("h5",{className:H().h5,children:"Invite"}),/*#__PURE__*/(0,l.jsx)(U,(0,a.Z)({},e)),/*#__PURE__*/(0,l.jsx)(J,(0,a.Z)({},e))]})},et=n(96670),en=n(66804),er=n(28563);function ei(){return(ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var eo=function(e){return /*#__PURE__*/x.createElement("svg",ei({width:13,height:15,viewBox:"0 0 13 15",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=/*#__PURE__*/x.createElement("path",{d:"M3.5 6.5v-3a3 3 0 016 0v3m-8 0h10a1 1 0 011 1v6a1 1 0 01-1 1h-10a1 1 0 01-1-1v-6a1 1 0 011-1z",fill:"transparent",stroke:"currentColor"})))},ea=n(54229),es=n(93995),el=n(51516),ec=n(53030),eu=function(e){var t=e.userId,n=e.workspace,r=e.authorProfile,i=e.closeShareModal,o=e.onChangeFileType,s=e.selectedFileType,c=e.privateFilesEnabled,u=e.fileTypeDropdownToggleRef,d=t===n.ownerId,f=(0,el.Y)().openSettingsModal;return/*#__PURE__*/(0,l.jsxs)(en.Lt,(0,et.Z)((0,a.Z)({isMountedInPopper:!0,onSelect:function(e){c||"private"!==e?o(e):(i(),f({openedPane:"plans",paywallFeature:_.AC.PrivateWorkspaces}))},selected:s,toggleRef:u},ec.vQ),{children:[!d&&/*#__PURE__*/(0,l.jsxs)(l.Fragment,{children:[/*#__PURE__*/(0,l.jsxs)(B.U,{children:["Only the ",/*#__PURE__*/(0,l.jsxs)("b",{children:["author",r?" (".concat(r.displayName,")"):""]}),"  can change the File Type setting"]}),/*#__PURE__*/(0,l.jsx)(en.KE,{})]}),/*#__PURE__*/(0,l.jsx)(er.Z,{label:"Team File",icon:/*#__PURE__*/(0,l.jsx)(ea.Z,{}),isDisabled:!d,explanation:"Any team member can find and edit this file."},"team"),/*#__PURE__*/(0,l.jsx)(er.Z,{label:"Private File",isDisabled:!d,icon:/*#__PURE__*/(0,l.jsx)(eo,{}),explanation:"Only invited members and guests can view or edit.",rightElement:c?void 0:/*#__PURE__*/(0,l.jsx)(es.y6,{})},"private")]}))},ed=n(33695),ef=n(34484),eh=n(4185),em=n(41174),ev=function(e){var t=e.workspace,n=e.closeShareModal,r=e.noLinkAccessEnabled,i=e.selectedAccessSetting,o=e.onChangeAccessSetting,s=e.fileSettingsDropdownToggleRef,c=e.anonymousCollaborationEnabled,u=e.publiclyViewableEnabled,d=(0,el.Y)().openSettingsModal;return/*#__PURE__*/(0,l.jsxs)(en.Lt,(0,et.Z)((0,a.Z)({isMountedInPopper:!0,onSelect:function(e){(c||"anonymous-write"!==e)&&(r||"none"!==e)&&(u||"read"!==e)?o(e):(n(),d({openedPane:"plans",paywallFeature:_.AC.NoLinkAccess}))},selected:i,toggleRef:s},ec.vQ),{children:[!!t.isPrivate&&/*#__PURE__*/(0,l.jsxs)(l.Fragment,{children:[/*#__PURE__*/(0,l.jsxs)(B.U,{children:["Link access cannot be changed for ",/*#__PURE__*/(0,l.jsx)("b",{children:"Private Files"})]}),/*#__PURE__*/(0,l.jsx)(en.KE,{})]}),/*#__PURE__*/(0,l.jsx)(er.Z,{label:"No link access",icon:/*#__PURE__*/(0,l.jsx)(eh.Z,{}),isDisabled:t.isPrivate,explanation:ec.Xh.none,rightElement:r?void 0:/*#__PURE__*/(0,l.jsx)(es.y6,{})},"none"),/*#__PURE__*/(0,l.jsx)(en.KE,{}),/*#__PURE__*/(0,l.jsx)(er.Z,{icon:/*#__PURE__*/(0,l.jsx)(ed.Z,{}),isDisabled:t.isPrivate,label:"Anyone with the link can Edit",explanation:ec.Xh.write},"write"),/*#__PURE__*/(0,l.jsx)(er.Z,{icon:/*#__PURE__*/(0,l.jsx)(ef.Z,{}),label:"Publicly viewable",isDisabled:t.isPrivate,explanation:ec.Xh.read,rightElement:u?void 0:/*#__PURE__*/(0,l.jsx)(es.y6,{})},"read"),/*#__PURE__*/(0,l.jsx)(er.Z,{icon:/*#__PURE__*/(0,l.jsx)(em.Z,{}),label:"Publicly editable",isDisabled:t.isPrivate,explanation:ec.Xh["anonymous-write"],rightElement:c?void 0:/*#__PURE__*/(0,l.jsx)(es.y6,{})},"anonymous-write")]}))},ep=function(e){return/*#__PURE__*/(0,l.jsxs)("div",{className:"columnLeft gapMedium",children:[/*#__PURE__*/(0,l.jsx)("h5",{className:H().h5,children:"Settings"}),/*#__PURE__*/(0,l.jsx)(eu,(0,a.Z)({},e)),/*#__PURE__*/(0,l.jsx)(ev,(0,a.Z)({},e))]})},eg=n(88404),eb=function(e){var t=e.workspace,n=(0,A.Z)();return/*#__PURE__*/(0,l.jsxs)("header",{className:(0,K.Z)("row",Q().header),children:[/*#__PURE__*/(0,l.jsx)("h4",{className:H().h3,children:"Share File"}),/*#__PURE__*/(0,l.jsxs)("div",{className:"rowCentered gapSmall",children:[/*#__PURE__*/(0,l.jsx)(ey,{workspace:t}),/*#__PURE__*/(0,l.jsx)(R.ZP,{size:R.ZP.Sizes.SMALL,variant:R.ZP.Variants.TRANSPARENT,onClick:function(){N.Z.trackEvent("workspace_share_dialog","copy_link_click",{source:"modal"}),n((0,Z.N)({workspaceId:t.id,params:{origin:"share"}}))},leftIcon:/*#__PURE__*/(0,l.jsx)(eg.J,{icon:L.Z,width:12,height:12}),children:"Copy Link"})]})]})},ex=function(){return/*#__PURE__*/(0,l.jsx)(B.U,{className:Q().info,children:"Invitees can always view and edit files, regardless of the file share settings."})},ey=function(e){var t=e.workspace,n=(0,x.useState)(!1),r=n[0],i=n[1];return/*#__PURE__*/(0,l.jsxs)(z.GI,{asNested:!1,onShow:function(){return i(!0)},onHide:function(){return i(!1)},children:[/*#__PURE__*/(0,l.jsx)(z.GI.Toggle,{children:/*#__PURE__*/(0,l.jsx)(R.ZP,{className:Q().qrCodeButton,leftIcon:/*#__PURE__*/(0,l.jsx)(D,{}),size:R.ZP.Sizes.SMALL,variant:R.ZP.Variants.TRANSPARENT,title:r?"":"Scan QR code to open on mobile devices"})}),/*#__PURE__*/(0,l.jsx)(z.GI.Menu,{className:P().workspaceFeaturePopup,style:{width:350},popperProps:{placement:"left-start",modifiers:[{name:"offset",options:{offset:[-30,210]}}]},children:/*#__PURE__*/(0,l.jsxs)("div",{className:Q().container,children:[/*#__PURE__*/(0,l.jsx)("h5",{className:(0,K.Z)(H().h5,"marginBottomLarge"),children:"Share as QR Code"}),/*#__PURE__*/(0,l.jsx)(T(),{value:(0,Z.N)({workspaceId:t.id,params:{origin:"qr"}}),size:300}),/*#__PURE__*/(0,l.jsx)("div",{className:"marginTopMedium",children:/*#__PURE__*/(0,l.jsx)("small",{className:"marginTopMedium",children:"Scan the QR code with a tablet or phone camera to quickly open this file on other devices."})})]})})]})},ew=function(e){return e.isExternalUser?/*#__PURE__*/(0,l.jsxs)("div",{className:Q().container,children:[/*#__PURE__*/(0,l.jsx)(eb,(0,a.Z)({},e)),/*#__PURE__*/(0,l.jsx)("hr",{}),/*#__PURE__*/(0,l.jsx)("div",{className:"columnLeft gapXL",children:/*#__PURE__*/(0,l.jsx)($,(0,a.Z)({},e))})]}):/*#__PURE__*/(0,l.jsxs)("div",{className:Q().container,children:[/*#__PURE__*/(0,l.jsx)(eb,(0,a.Z)({},e)),/*#__PURE__*/(0,l.jsx)("hr",{}),/*#__PURE__*/(0,l.jsxs)("div",{className:"columnLeft gapXL",children:[/*#__PURE__*/(0,l.jsx)(ep,(0,a.Z)({},e)),/*#__PURE__*/(0,l.jsx)($,(0,a.Z)({},e)),/*#__PURE__*/(0,l.jsx)(ex,(0,a.Z)({},e))]})]})},eI=function(e){var t,n,r,i,v,y,S,T,O,P,A,N,Z,L,F,D,R=e.workspace,B=e.parentPoupupController,z=e.fileTypeDropdownToggleRef,W=e.fileSettingsDropdownToggleRef,H=(0,u.Z)(),K=(0,C.Pe)(),G=(0,M.O)(R),U=G.selectedFileType,V=G.changeWorkspaceType,q=G.selectedAccessSetting,X=G.changeWorkspaceAccessSetting,Q=G.anonymousCollaborationEnabled,J=G.publiclyViewableEnabled,Y=(0,E.Q6)(_.AC.NoLinkAccess,null==R?void 0:R.teamId),$=(0,E.Q6)(_.AC.PrivateWorkspaces,null==R?void 0:R.teamId),ee=(0,d.II)(),et=(0,f.ZP)(null==R?void 0:R.ownerId),en=(t=null==R?void 0:R.id,n=null==R?void 0:R.ownerId,r=null==R?void 0:R.teamId,i=(0,c.Z)(r,void 0),v=(0,C.fz)(function(e){return{subscribeByWorkspace:e.invites.subscribeWorkspaceInvites.bind(e.invites)}},t),y=(0,C.fz)(function(e){return e.workspaceMembers},t),S=!!(r&&(!i||!y||!v)),O=(T=(0,x.useMemo)(function(){var e,t=null!==(e=null==y?void 0:y.filter(function(e){return e.inviteId&&e.id!==n}))&&void 0!==e?e:[],o=(0,g.Z)(w()(t,function(e){return null==v?void 0:v.some(function(t){return t.id===e.inviteId})}),2),a=o[0],s=o[1],l=(0,g.Z)(w()(s,function(e){return(0,I.GX)(i,e.id,I.pc)}),2),c=l[0],u=l[1];return{invitedMembers:c.map(function(e){return{userId:e.id,teamId:r,role:e.role,inviteId:e.inviteId}}),invitedGuests:u,pendingInviteeMemberships:a}},[y,v,i,n,r])).invitedMembers,P=T.invitedGuests,A=T.pendingInviteeMemberships,N=(0,x.useMemo)(function(){return[n].concat((0,b.Z)((null!=O?O:[]).map(function(e){return e.userId})),(0,b.Z)((null!=P?P:[]).map(function(e){return e.id})),(0,b.Z)((null!=A?A:[]).map(function(e){return e.id}))).filter(Boolean)},[n,O,P,A]),Z=(0,f.Kb)(N),R?{invitedGuests:P,invitedMembers:O,pendingInvitees:v,pendingInviteeMemberships:A,knownPeople:Z,isLoading:S}:null),er=(0,c.Z)(null==R?void 0:R.teamId,void 0,{internalOnly:!0}),ei=!(0,I.GX)(er,ee),eo=B.closePopup,ea=(L=(0,o.Z)(function(e){var t,n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!(n=null==en?void 0:null===(t=en.pendingInviteeMemberships)||void 0===t?void 0:t.find(function(t){return t.inviteId===e})))return[3,2];return[4,p({memberId:n.id,workspaceId:R.id}).then(function(){return H.success("Invitation cancelled successfully")}).catch(function(){return H.error("Invitation canceling failed")})];case 1:case 3:return r.sent(),[2];case 2:return[4,K.invites.deleteById(e).then(function(){return H.success("Invitation cancelled successfully")}).catch(function(){return H.error("Invitation canceling failed")})]}})}),function(e){return L.apply(this,arguments)}),es=(F=(0,o.Z)(function(e){return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,p({memberId:e.id,workspaceId:R.id}).then(function(){return H.success("Member removed successfully")}).catch(function(){return H.error("Member removing failed")})];case 1:return t.sent(),[2]}})}),function(e){return F.apply(this,arguments)}),el=(D=(0,o.Z)(function(e){return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,m.M)({teamId:R.teamId,userId:e.id,role:j.i.Member,updateRoleIfExists:!0})];case 1:return t.sent(),[2]}})}),function(e){return D.apply(this,arguments)});return R&&ee&&en?/*#__PURE__*/(0,l.jsx)(ew,(0,a.Z)({},{userId:ee,workspace:R,isExternalUser:ei,closeShareModal:eo,authorProfile:et,selectedFileType:U,privateFilesEnabled:$,noLinkAccessEnabled:Y,selectedAccessSetting:q,fileTypeDropdownToggleRef:z,fileSettingsDropdownToggleRef:W,anonymousCollaborationEnabled:Q,publiclyViewableEnabled:J,onChangeFileType:V,onChangeAccessSetting:X,onInvite:function(e){return(0,h.Z)({type:k.PA.Email,inviteeEmail:e,inviteTo:k.FU.Workspace,status:k.aj.Pending,workspaceId:R.id},"file_share_modal")},onCancelInvite:ea,onAddMemberToTeam:el,workspaceMembersInfo:en,onRemoveMemberFromWorkspace:es})):null}},52553:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(98788),i=n(22970),o=n(45403),a=n(59711),s=n(70599),l=n(15765),c=function(e){var t,n,c=(0,o.Pe)(),u=(0,l.Q6)(s.AC.AnonymousCollaboration,null==e?void 0:e.teamId),d=(0,l.Q6)(s.AC.PubliclyViewable,null==e?void 0:e.teamId),f=(null==e?void 0:e.isPrivate)?"private":"team",h=e&&!e.isPrivate&&e.isDirectAccessAllowed?e.directAccessMode===a.lL.Read?d?a.bR.READ:a.bR.NONE:e.directAccessMode===a.lL.Write?e.isAnonymousAccessAllowed&&u?a.bR.ANONYMOUS_WRITE:a.bR.WRITE:(console.warn("Unexpected access configuration"),a.bR.NONE):a.bR.NONE;return{selectedFileType:f,changeWorkspaceType:(t=(0,r.Z)(function(t){var n,r;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(!e)return[2];return r=!(n="private"===t)&&void 0,[4,c.workspaces.updateById(e.id,{isPrivate:n,isDirectAccessAllowed:r})];case 1:return i.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),selectedAccessSetting:h,changeWorkspaceAccessSetting:(n=(0,r.Z)(function(t){return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(!e)return[2];return[4,c.workspaces.updateById(e.id,{directAccessMode:t===a.bR.READ?a.lL.Read:a.lL.Write,isDirectAccessAllowed:t!==a.bR.NONE,isAnonymousAccessAllowed:t===a.bR.ANONYMOUS_WRITE})];case 1:return n.sent(),[2]}})}),function(e){return n.apply(this,arguments)}),anonymousCollaborationEnabled:u,publiclyViewableEnabled:d}}},35461:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(51105),a=n(64870),s=n(16962);t.Z=/*#__PURE__*/(0,i.memo)(function(e){var t=e.columns,n=e.children,i=(0,s.Dv)(),l=(0,a.BD)(),c=l.updateOrder,u=l.orderBy,d=l.orderDir,f=i?null:/*#__PURE__*/(0,r.jsx)(o.Z,{columns:t,updateOrder:c,orderBy:u,orderDir:d});return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[f,n]})})},99811:function(e,t,n){"use strict";n.d(t,{fu:function(){return f},oQ:function(){return d}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(96933),l=n(39183),c=n(4406),u=n(45403),d=function(e){var t=Date.now(),n=[];return e.forEach(function(e){var r=e.id,i=e.heartbeat;t-(void 0===i?t:i)<=15e3&&n.push(r)}),n},f=function(e,t){var n=(0,u.fz)(function(e){return e.workspaceCollaborators},e);return(0,a.useMemo)(function(){var e=d(null!=n?n:[]);return t?e.filter(function(e){return e!==t}):e},[n,t])};t.ZP=function(e){var t=(0,s.II)(),n=(0,a.useState)([]),u=n[0],d=n[1],h=f((0,l.mT)()||"");return(0,a.useEffect)(function(){h&&d(h.filter(function(e){return e!==t}))},[t,h]),/*#__PURE__*/(0,o.jsx)(c.Z,(0,i.Z)((0,r.Z)({},e),{horizontalAlign:"end",max:3,userIds:u}))}},77982:function(e,t,n){"use strict";n.d(t,{i:function(){return w}});var r=n(42838),i=n(52322),o=n(2784),a=n(90794),s=/*#__PURE__*/n.n(a),l=function(){return/*#__PURE__*/(0,i.jsx)("div",{className:s().rootContainer,children:"Your list is empty"})},c=n(96882),u=n(51992),d=function(e){var t=e.columns,n=function(){return t.map(function(e){/*#__PURE__*/return(0,i.jsx)("div",{style:{flex:null==e?void 0:e.flex},children:/*#__PURE__*/(0,i.jsx)(u.ZP,{width:"70%"})},e.id)})};return/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)(c.S,{children:n()}),/*#__PURE__*/(0,i.jsx)(c.S,{children:n()}),/*#__PURE__*/(0,i.jsx)(c.S,{children:n()})]})},f=n(51516),h=n(83433),m=n(88510),v=n(33562),p=n(80150),g=/*#__PURE__*/n.n(p),b=function(e){var t=e.items,n=e.scrollRef,r=e.renderItem,a=e.getItemSize,s=(0,o.useRef)(null),l=(0,v.lq)(n,s),c=(0,m.MG)({overscan:15,count:(null==t?void 0:t.length)||0,estimateSize:a,getScrollElement:function(){return s.current}});return/*#__PURE__*/(0,i.jsx)("div",{ref:l,className:g().list,children:/*#__PURE__*/(0,i.jsx)("div",{className:g().wrapper,style:{height:"".concat(c.getTotalSize(),"px")},children:c.getVirtualItems().map(function(e){return r(e,{top:0,left:0,width:"100%",height:e.size,position:"absolute",transform:"translateY(".concat(e.start,"px)")})})})})};b.displayName="VirtualizedList";var x=n(19179),y=function(e,t){var n;t&&t[e]&&(null===(n=document.querySelector('[data-row-index="'.concat(e,'"]')))||void 0===n||n.scrollIntoView({block:"nearest"}))},w=function(e){var t=e.items,n=e.columns,a=e.renderItem,s=e.getItemSize,u=e.onItemEnterKey,m=e.isVirtualized,v=void 0===m||m,p=e.renderLoadingSkeleton,g=e.renderEmptyPlaceholder,w=!t,I=(0,o.useRef)(null),C=t&&0===t.length,_=(0,f.Y)().isSettingsModalOpen,k=(0,o.useCallback)(function(e,t){(0,r.Z)(document.activeElement,HTMLElement)&&(0,x.cK)(document.activeElement)||null==u||u(e,t)},[u]),j=(0,h.c)({items:t||[],containerRef:I,options:{shouldTabKeySelect:!1,whenShouldHookBeActive:"whenNoInputIsFocused"},allowJumpToFirstOnLast:!v,customScrollIntoView:y,onSelect:k,isListOpen:!_}),E=j.activeIndex,M=j.setActiveIndex,S=(0,o.useCallback)(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.index,s=t[o];return/*#__PURE__*/(0,i.jsx)("div",{"data-row-index":o,children:a({index:o,item:s,activeIndex:E,setActiveIndex:M,styles:r,columns:n})},o)},[E,t,a,M,n]);return w?(null==p?void 0:p())||/*#__PURE__*/(0,i.jsx)(d,{columns:Array.from(Object.values(n))}):C?(null==g?void 0:g())||/*#__PURE__*/(0,i.jsx)(l,{}):v?/*#__PURE__*/(0,i.jsx)(b,{items:t,scrollRef:I,renderItem:S,getItemSize:s||function(){return c.z}}):/*#__PURE__*/(0,i.jsx)(i.Fragment,{children:t.map(function(e,t){return S({index:t})})})}},67627:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(52322),a=n(2332),s=n(54848),l=n(2148),c=/*#__PURE__*/n.n(l),u=function(e){var t=e.userId,n=(0,a.ZP)(t);return/*#__PURE__*/(0,o.jsx)("div",{className:c().tableAvatar,children:/*#__PURE__*/(0,o.jsx)(s.Z,(0,i.Z)((0,r.Z)({},n),{className:c().tableAvatarIcon}))})};t.Z=function(e){var t=e.userIds;if(!(null==t?void 0:t.length))return null;var n=t.slice(0,3);return/*#__PURE__*/(0,o.jsx)("div",{className:c().tableAvatars,children:n.map(function(e,t){return/*#__PURE__*/(0,o.jsx)(u,{userId:e},e||t)})})}},19485:function(e,t,n){"use strict";n.d(t,{r:function(){return f}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(31592),l=/*#__PURE__*/n.n(s),c=n(3635),u=n(91132),d=/*#__PURE__*/n.n(u),f=/*#__PURE__*/(0,a.memo)(function(e){var t,n,a=e.children,s=e.column,u=e.variant,f=e.customStyle,h={title:d().titleVariant,regular:d().regularVariant,tag:null!=a?d().tagVariant:"",externalLocation:d().externalLocationVariant};if(!s)return null;var m=(0,i.Z)((0,r.Z)({},f),{flex:null!==(t=s.flex)&&void 0!==t?t:1});return/*#__PURE__*/(0,o.jsx)("div",{className:(0,c.Z)(l().item,s.className),style:m,tabIndex:-1,children:/*#__PURE__*/(0,o.jsx)("div",{className:(0,c.Z)(h[null!==(n=null!=u?u:s.variant)&&void 0!==n?n:"regular"]),children:a})})});f.displayName="TableItem"},96882:function(e,t,n){"use strict";n.d(t,{S:function(){return m},z:function(){return h}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(47200),c=/*#__PURE__*/n.n(l),u=n(3635),d=n(44190),f=/*#__PURE__*/n.n(d),h=54,m=/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.isFaded,s=e.children,l=e.isFocused,d=e.className,h=e.isDropping,m=e.isClickable,v=(0,o.Z)(e,["isFaded","children","isFocused","className","isDropping","isClickable"]);return/*#__PURE__*/(0,a.jsx)("div",(0,i.Z)((0,r.Z)({},v),{ref:t,className:(0,u.Z)(d,f().row,n&&f().isFaded,l&&f().isFocused,(void 0===m||m)&&f().isClickable,h&&c().isDroppingWorkspaceTableFolder),children:s}))});m.displayName="TableRow"},51338:function(e,t,n){"use strict";var r=n(98788),i=n(22970),o=n(2784),a=n(69071),s=n(2595),l=n(96933),c=n(67640);t.Z=function(){var e,t=(0,s.Z)(),n=(0,l.II)(),u=(0,o.useCallback)((e=(0,r.Z)(function(e){var r;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(!n||!e)return console.error("Missing userId or workspaceId"),[2];r=t.loading("Deleting file ..."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.Z.delete("workspace/".concat(e))];case 2:return i.sent(),t.success("File deleted successfully",{id:r}),[3,4];case 3:return i.sent(),t.error("File deletion failed",{id:r}),[3,4];case 4:return[2]}})}),function(t){return e.apply(this,arguments)}),[n]),d=(0,a.Z)(u);return{delete:d.execute,isLoading:d.loading}}},27324:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return h}});var r=n(52322),i=n(5632),o=n(21746),a=n(64870),s=n(35461),l=n(77982),c=n(98963),u=n(26748),d=n(55174),f=n(39559),h=!0;t.default=function(){var e=(0,i.useRouter)(),t=(0,o.qp)(a.a_).files,n=(0,d.Z)({tab:"all",showFolder:!0});return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)(f.Z,{}),/*#__PURE__*/(0,r.jsx)(s.Z,{columns:n,children:/*#__PURE__*/(0,r.jsx)(l.i,{items:t,columns:n,renderLoadingSkeleton:function(){return/*#__PURE__*/(0,r.jsx)(c.B,{})},onItemEnterKey:function(t){e.push("/workspace/".concat(t.id))},renderItem:function(e){var t=e.index,i=e.item,o=e.activeIndex,a=e.setActiveIndex,s=e.styles;return/*#__PURE__*/(0,r.jsx)(u.Z,{file:i,style:s,columns:n,isFocused:t===o,setFocusOnHover:function(){return a(t)}},i.id)}})})]})}},39559:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,i,o,a=n(70865),s=n(96670),l=n(52322),c=n(37164),u=n(2784),d=n(25300),f=n(75194),h=n(42541);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var v=function(e){return /*#__PURE__*/u.createElement("svg",m({width:49,height:49,viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/u.createElement("path",{d:"M24.497.668v47.667M.664 24.5h47.667",stroke:"currentColor",strokeWidth:2})))},p=n(58256);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var b=function(e){return /*#__PURE__*/u.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"file-text_svg__feather file-text_svg__feather-file-text"},e),i||(i=/*#__PURE__*/u.createElement("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"})),o||(o=/*#__PURE__*/u.createElement("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})))},x=n(40679),y=/*#__PURE__*/n.n(x),w=n(15765),I=n(70599),C=n(11269),_=n(88859),k=n(23956),j={id:"",type:"diagram",diagramType:null,forceAiMode:!0,modifiedBy:"SERVER",code:"",prompt:"",x:0,y:0,isDeleted:!1,width:525,height:340},E=/*#__PURE__*/(0,u.memo)(function(e){var t=e.folderId,n=(0,d.Z)(),r=n.loading,i=n.request,o=(0,C.LP)(),m=(0,w.Bv)({featureName:I.M$.Workspaces,teamId:o}),g=(0,f.d)(),x=(0,u.useCallback)(function(){i("getting_started",{folderId:t}),h.Z.trackEvent("getting_started","new_file",{type:"new"})},[i,t]),E=(0,u.useCallback)(function(){var e=(0,c.x0)();i("getting_started",{folderId:t,elementData:[(0,s.Z)((0,a.Z)({},j),{id:e})]},{query:{element:e,openDiagramSidebar:"true"}}),h.Z.trackEvent("getting_started","new_file",{type:"ai_diagram"})},[t,i]),M=(0,u.useCallback)(function(){i("generate_outline",{folderId:t},{query:{aiOutline:"true"}}),h.Z.trackEvent("getting_started","generate_outline"),h.Z.trackEvent("ai_assistant","start",{source:"getting_started",action:k.hs.Outline})},[i,t]);return g||!m||m.limit===_.fY?null:/*#__PURE__*/(0,l.jsxs)("div",{className:y().gettingStartedFileCards,children:[/*#__PURE__*/(0,l.jsxs)("button",{className:y().card,disabled:r,onClick:x,children:[/*#__PURE__*/(0,l.jsx)(v,{}),/*#__PURE__*/(0,l.jsx)("span",{className:y().title,children:"Create a Blank File"})]}),/*#__PURE__*/(0,l.jsxs)("button",{className:y().card,disabled:r,onClick:E,children:[/*#__PURE__*/(0,l.jsx)(p.Z,{width:35,height:35,viewBox:"0 0 12 12",className:y().sparklesIcon}),/*#__PURE__*/(0,l.jsx)("span",{className:y().title,children:"Generate an AI Diagram"})]}),/*#__PURE__*/(0,l.jsxs)("button",{className:y().card,disabled:r,onClick:M,children:[/*#__PURE__*/(0,l.jsx)(b,{width:35,height:35}),/*#__PURE__*/(0,l.jsx)("span",{className:y().title,children:"Generate an AI outline"})]})]})})},39247:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(95634),a=n(3635),s=n(34006),l=/*#__PURE__*/n.n(s);t.Z=function(e){var t=e.title,n=e.maxLength,s=e.onSave,c=e.onBlur,u=e.className,d=(0,i.useRef)(null),f=(0,i.useState)(t),h=f[0],m=f[1];(0,i.useEffect)(function(){setTimeout(function(){var e,t;null===(e=d.current)||void 0===e||e.focus(),null===(t=d.current)||void 0===t||t.select()},50)},[]);var v=(0,i.useCallback)(function(){t.trim()!==h.trim()&&s(h),null==c||c()},[s,h,t,c]),p=(0,i.useCallback)(function(e){"Enter"===e.key&&v()},[v]),g=(0,i.useCallback)(function(e){var t=e.target.value;n&&t.length>n||m(t)},[n]);return(0,o.Z)(v),/*#__PURE__*/(0,r.jsx)("input",{placeholder:t,ref:d,onChange:g,value:h,onClick:function(e){e.preventDefault(),e.stopPropagation()},onBlur:v,onKeyUp:p,className:(0,a.Z)(l().input,u)})}},98963:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(52322);n(2784);var i=n(51992),o=n(96882),a=n(70745),s=/*#__PURE__*/n.n(a),l=function(e){var t=e.showFolderColumn;return/*#__PURE__*/(0,r.jsxs)(o.S,{className:s().rowSkeleton,children:[/*#__PURE__*/(0,r.jsx)("div",{className:s().gutter,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"60px"})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().name,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"70%"})}),t&&/*#__PURE__*/(0,r.jsx)("div",{className:s().folder,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"50%"})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().createdAt,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"70%"})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().updatedAt,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"70%"})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().comments,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"15px"})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().views,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{width:"15px"})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().author,children:/*#__PURE__*/(0,r.jsx)(i.ZP,{circle:!0,width:20,height:20})}),/*#__PURE__*/(0,r.jsx)("div",{className:s().emptySpace})]})},c=function(e){var t=e.showFolderColumn,n=void 0===t||t;return/*#__PURE__*/(0,r.jsxs)(i.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:[/*#__PURE__*/(0,r.jsx)(l,{showFolderColumn:n}),/*#__PURE__*/(0,r.jsx)(l,{showFolderColumn:n}),/*#__PURE__*/(0,r.jsx)(l,{showFolderColumn:n})]})}},26748:function(e,t,n){"use strict";n.d(t,{Z:function(){return em}});var r,i=n(70865),o=n(87394),a=n(52322),s=n(2784),l=n(39097),c=/*#__PURE__*/n.n(l),u=n(39717),d=n(99811),f=n(67627),h=n(19485),m=n(96882),v=n(2595),p=n(47200),g=/*#__PURE__*/n.n(p),b=n(59296),x=n(31592),y=/*#__PURE__*/n.n(x),w=n(98788),I=n(22970),C=n(51338),_=n(32472),k=n(85617),j=n(11929),E=n(11269),M=n(32148),S=n(2600),T=n(355),O=n(74021),P=n(72119),A=n(96584);function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var Z=function(e){return /*#__PURE__*/s.createElement("svg",N({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/s.createElement("path",{d:"M12.6 1.4L1.4 6.2l4 2.4m7.2-7.2L7.8 12.6l-2.4-4m7.2-7.2L5.4 8.6",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})))},L=n(74442),F=n(48845),D=n(2648),R=n(14758),B=n(66804),z=n(88404),W=n(28563),H=n(80498),K=n(22805),G=n(89563),U=n(2643),V=n(28749),q=n(94553),X=/*#__PURE__*/n.n(q),Q=n(91710),J=function(e){var t=e.onSelect,n=e.file,r=e.onStartRenaming,o=e.visible,l=(0,v.Z)(),c=(0,E.LP)(),u=(0,s.useRef)(),d=(0,S.X)().request,f=(0,C.Z)(),h=f.delete,m=f.isLoading,p=(0,H.Z)(),g=p.isOpen,b=p.onOpen,x=p.onClose,y=(0,H.Z)(),N=y.isOpen,q=y.onOpen,J=y.onClose,Y=(0,s.useCallback)(function(){if(o)return d({workspaceId:n.id,teamId:c},{stayOnPage:!0}),null==t||t(),!1},[o,n.id,c,t,d]),$=(0,M.o)({workspaceId:n.id,isArchived:!!n.isArchived,currentTeamId:c,workspaceTeamId:n.teamId}),ee=(0,s.useCallback)(function(){var e;if(o)return null===(e=u.current)||void 0===e||e.openMoveModal(),!1},[o]),et=(0,s.useCallback)(function(){if(o)return r(),!1},[o,r]),en=(0,s.useCallback)(function(){if(o)return null==t||t(),$(),!1},[o,t,$]),er=(0,s.useCallback)(function(){if(o)return q(),!1},[o,q]),ei=(0,s.useCallback)(function(){h(n.id).then(J)},[h,n.id,J]),eo=(0,j.UK)(/*#__PURE__*/(0,w.Z)(function(){var e;return(0,I.__generator)(this,function(t){switch(t.label){case 0:return e=(0,T.N)({workspaceId:n.id,params:{origin:""}}),[4,navigator.clipboard.writeText(e)];case 1:return t.sent(),[2]}})})),ea=(0,s.useCallback)(function(){if(o)return b(),!1},[b,o]),es=(0,s.useCallback)(function(){if(o)return l.promise(eo.execute(),{loading:"Copying link",success:"Copied link",error:"Something went wrong"},{success:{duration:1e3}}),!1},[o,eo]),el=!n.isPrivate&&!n.gitHubRepository;return(0,K.Z)((0,i.Z)({"command+i":ea,"alt+shift+c":es,"alt+shift+r":et,"command+shift+d":Y,"command+shift+e":en},el?{"alt+m":{macOS:!1,callback:ee},"ctrl+m":{windows:!1,callback:ee}}:{})),/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)(Q.z,{ref:u,workspace:n}),/*#__PURE__*/(0,a.jsx)(k.Z,{title:'Are you sure you want to permanently delete "'.concat(n.title||_.SF,'" file?'),description:"This file cannot be recovered.",width:510,isOpen:N,isDeletion:!0,isLoading:m,confirmBtnText:"Permanently Delete",onConfirm:ei,onCancel:J,onClose:J}),/*#__PURE__*/(0,a.jsx)(U.Z,{isOpen:g,onClose:x,hideCloseButton:!0,children:/*#__PURE__*/(0,a.jsx)(V.F,{workspace:n,parentPoupupController:{isOpen:g,openPopup:b,closePopup:x}})}),/*#__PURE__*/(0,a.jsxs)(B.Ng,{testId:"file-actions-".concat(n.title),minWidth:176,isHidden:!o,keyboardShortcut:"m",hint:{label:"Menu",shortcutKeys:["M"],placement:"bottom"},children:[/*#__PURE__*/(0,a.jsx)(W.Z,{label:"Copy Link",onClick:es,icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:R.Z}),rightElement:/*#__PURE__*/(0,a.jsx)(G.P,{keys:["Option","Shift","C"]}),"data-testid":"file-actions-copy-link"}),/*#__PURE__*/(0,a.jsx)(W.Z,{label:"Rename",onClick:et,icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:F.Z}),rightElement:/*#__PURE__*/(0,a.jsx)(G.P,{keys:["Option","Shift","R"]}),"data-testid":"file-actions-rename"}),/*#__PURE__*/(0,a.jsx)(W.Z,{label:"Share",onClick:ea,icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:Z}),rightElement:/*#__PURE__*/(0,a.jsx)(G.P,{keys:["CtrlOrCmd","I"]}),"data-testid":"file-actions-share"}),el&&/*#__PURE__*/(0,a.jsx)(W.Z,{label:"Move",onClick:ee,icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:L.Z}),rightElement:/*#__PURE__*/(0,a.jsx)(G.P,{keys:["Control|Alt","M"]}),"data-testid":"file-actions-move"}),/*#__PURE__*/(0,a.jsx)(W.Z,{label:"Duplicate",onClick:Y,icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:A.Z}),rightElement:/*#__PURE__*/(0,a.jsx)(G.P,{keys:["CtrlOrCmd","Shift","D"]}),"data-testid":"file-actions-duplicate"}),/*#__PURE__*/(0,a.jsx)(W.Z,{icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:n.isArchived?D.Z:O.Z}),onClick:en,label:n.isArchived?"Restore":"Archive",rightElement:/*#__PURE__*/(0,a.jsx)(G.P,{keys:["CtrlOrCmd","Shift","E"]}),"data-testid":"file-actions-archive"}),n.isArchived&&/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)(B.KE,{space:"medium"}),/*#__PURE__*/(0,a.jsx)(W.Z,{icon:/*#__PURE__*/(0,a.jsx)(z.J,{icon:P.Z,color:"red"}),onClick:er,label:"Permanently Delete",className:X().deleteOption,"data-testid":"file-actions-delete"})]})]})]})},Y=n(39247),$=n(73936),ee=n(91947),et=n(12967),en=n(71921),er=n(75194),ei=n(34803),eo=n(45403),ea=n(89960),es=n(3635),el=n(19179),ec=n(12798),eu=/*#__PURE__*/n.n(ec),ed=n(81623),ef=["gather","kumospace","nooks","workadventure"],eh=function(e){var t=e.fileId,n=(0,d.fu)(t||"");return/*#__PURE__*/(0,a.jsx)(f.Z,{userIds:n})},em=function(e){var t,n,r=e.file,l=e.style,d=e.columns,p=e.isFocused,x=e.setFocusOnHover,w=e.externalFileData,I=e.shouldMarkArchived,C=(0,v.Z)(),k=(0,er.d)(),j=(0,s.useRef)(null),E=(0,s.useState)(!1),M=E[0],S=E[1],T=(0,s.useState)(null),O=T[0],P=T[1],A=(0,eo.Pe)(),N=(0,o.Z)((0,u.c)(function(){return{type:b.L.Workspace,item:r,canDrag:function(){return!el.b1&&!k},options:(0,i.Z)({dropEffect:"move"},r),collect:function(e){return{isDragging:e.isDragging()}}}},[r]),3),Z=N[0].isDragging,L=N[1],F=N[2],D=null==w?void 0:w.isExternal;return/*#__PURE__*/(0,a.jsx)(c(),{href:"/workspace/".concat(r.id),passHref:!0,children:/*#__PURE__*/(0,a.jsx)("a",{rel:"noopener noreferrer","data-file-id":r.id,"data-testid":"file-row-".concat(r.title),style:l,className:eu().anchor,onMouseMove:x,children:/*#__PURE__*/(0,a.jsx)("div",{ref:j,children:/*#__PURE__*/(0,a.jsxs)(m.S,{ref:L,isFocused:p,isFaded:r.isArchived,children:[/*#__PURE__*/(0,a.jsx)(h.r,{column:d.gutter,children:/*#__PURE__*/(0,a.jsx)(eh,{fileId:r.id})}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.name,customStyle:M?{overflow:"visible",maxWidth:"95%",width:"100%"}:{},children:/*#__PURE__*/(0,a.jsxs)("div",{ref:F,className:(0,es.Z)(y().titleRowContent,Z&&g().isDragging),children:[r.isPrivate&&/*#__PURE__*/(0,a.jsx)("div",{className:eu().iconContainer,children:/*#__PURE__*/(0,a.jsx)(z.J,{icon:et.Z,width:12})}),r.gitHubRepository&&/*#__PURE__*/(0,a.jsx)("div",{className:eu().iconContainer,children:/*#__PURE__*/(0,a.jsx)(z.J,{icon:ee.Z,width:12,height:12,color:"grey-1200"})}),M?/*#__PURE__*/(0,a.jsx)(Y.Z,{title:r.title||"",className:eu().renameField,onSave:function(e){if(r.title===e){S(!1);return}S(!1),P(e),A.workspaces.updateById(r.id,{title:e}).catch(function(e){(0,ea.Tb)(e),C.error("An error occurred while renaming file.")})},onBlur:function(){return S(!1)}}):/*#__PURE__*/(0,a.jsx)("div",{className:eu().ellipsisContainer,children:O||r.title||_.SF}),r.gitHubRepository&&!M&&/*#__PURE__*/(0,a.jsx)("span",{className:eu().filePath,children:(0,ei.Id)(null===(t=r.gitHubRepository)||void 0===t?void 0:t.filePath)}),D&&/*#__PURE__*/(0,a.jsx)(z.J,{icon:$.Z,className:eu().externalLinkIcon})]})}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.folder,variant:D?"externalLocation":void 0,children:/*#__PURE__*/(0,a.jsx)(ed.Z,{folderId:r.folderId,folderName:r.folderName,gitHubRepository:r.gitHubRepository,isArchived:r.isArchived,isPrivate:r.isPrivate,shouldMarkArchived:void 0===I||I,externalFileData:w,isExternal:D})}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.created,children:/*#__PURE__*/(0,a.jsx)("span",{children:r.createdAt&&/*#__PURE__*/(0,a.jsx)(en.Z,{time:r.createdAt})})}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.edited,children:/*#__PURE__*/(0,a.jsx)("span",{children:r.updatedAt&&/*#__PURE__*/(0,a.jsx)(en.Z,{time:r.updatedAt})})}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.comments,children:/*#__PURE__*/(0,a.jsx)("span",{children:null!==(n=r.nComments)&&void 0!==n?n:0})}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.authors,children:function(){if(!(null==w?void 0:w.integrationPartner))return/*#__PURE__*/(0,a.jsx)(f.Z,{userIds:[r.ownerId]});var e=w.integrationPartner,t=ef.includes(e);return e&&t?/*#__PURE__*/(0,a.jsx)("img",{className:eu().integrationIcon,src:"/static/icons/".concat(e,"-logo.png"),alt:e}):/*#__PURE__*/(0,a.jsxs)("span",{children:["\xa0(",e,")"]})}()}),/*#__PURE__*/(0,a.jsx)(h.r,{column:d.dots,children:/*#__PURE__*/(0,a.jsx)(J,{visible:p||k,file:r,onStartRenaming:function(){return S(!0)}})})]})})})})}},55174:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(31592),a=/*#__PURE__*/n.n(o),s=n(75194),l=n(3635);t.Z=function(e){var t=e.showFolder,n=e.tab;return(0,s.d)()?{name:{flex:1,id:"name",variant:"title",orderKey:"title",title:"history"!==n?"Name":" "},edited:{flex:.4,id:"edited",title:"Edited",variant:"regular",orderKey:"updatedAt"},dots:{flex:.2,title:"",id:"dots",variant:"regular",className:a().alignCenter}}:(0,i.Z)((0,r.Z)((0,i.Z)((0,r.Z)({},{gutter:{title:" ",id:"gutter",flex:"none",variant:"regular",className:(0,l.Z)(a().alignCenter,a().gutterColumn),headerClassName:(0,l.Z)(a().alignCenter,a().gutterColumn)}}),{name:{flex:3,id:"name",title:"Name",variant:"title",orderKey:"title"}}),t?{folder:{flex:1,id:"folder",variant:"tag",title:"Location",orderKey:"folderId"}}:{}),{created:{flex:.5,id:"created",title:"Created",variant:"regular",orderKey:"createdAt",className:a().minWidthColumn,headerClassName:a().minWidthColumn},edited:{flex:.5,id:"edited",title:"Edited",variant:"regular",orderKey:"updatedAt",className:a().minWidthColumn,headerClassName:a().minWidthColumn},comments:{flex:.5,id:"comments",title:"Comments",variant:"regular",orderKey:"nComments",className:(0,l.Z)(a().alignEnd,a().minWidthColumn),headerClassName:(0,l.Z)(a().alignEnd,a().minWidthColumn)},authors:{flex:.5,id:"authors",title:"Author",variant:"regular",className:(0,l.Z)(a().alignEnd,a().authorPadding,a().minWidthColumn),headerClassName:(0,l.Z)(a().alignEnd,a().headerAuthorPadding,a().minWidthColumn)},dots:{flex:"0 0 26px",title:"",id:"dots",variant:"regular",className:a().alignCenter,headerClassName:a().alignCenter}})}},91710:function(e,t,n){"use strict";n.d(t,{z:function(){return K}});var r=n(87394),i=n(52322),o=n(19275),a=n(11269),s=n(24930),l=n(70865),c=n(96670),u=n(26297),d=n(2784),f=n(2643),h=n(67058),m=n(95162),v=n(10973),p=/*#__PURE__*/n.n(v),g=n(89563),b=function(e){var t=e.screen,n=e.onCancelClick,r=e.onConfirmClick,o=e.isConfirmDisabled;return/*#__PURE__*/(0,i.jsxs)("div",{className:p().shortcuts,children:[/*#__PURE__*/(0,i.jsxs)("span",{children:[/*#__PURE__*/(0,i.jsxs)("span",{className:p().keys,children:[(0,h.K8)("ArrowUp",!0),(0,h.K8)("ArrowDown",!0)]}),/*#__PURE__*/(0,i.jsx)("span",{children:"to navigate"})]}),/*#__PURE__*/(0,i.jsxs)("span",{children:[/*#__PURE__*/(0,i.jsx)("span",{className:p().keys,children:(0,h.K8)("Enter",!0)}),/*#__PURE__*/(0,i.jsxs)("span",{children:["select ","folders"===t?"folder":"team"]})]}),/*#__PURE__*/(0,i.jsxs)("span",{className:p().buttonsWrapper,children:[/*#__PURE__*/(0,i.jsx)(m.ZP,{onClick:n,variant:m.ZP.Variants.REVERSED,children:"Cancel"}),/*#__PURE__*/(0,i.jsxs)(m.ZP,{onClick:r,disabled:o,children:["folders"===t?"Move Folder":"Select Team",/*#__PURE__*/(0,i.jsx)(g.P,{keys:["Enter"],darkBackground:!0,inline:!0})]})]})]})},x=n(66838),y=n(85558),w=n(91947),I=n(83332),C=/*#__PURE__*/n.n(I),_=function(e){var t=e.organization,n=e.searchQuery,r=e.repository;if(!n)return!0;var i=r.name.toLocaleLowerCase(),o=t.name.toLocaleLowerCase();return i.includes(n.toLocaleLowerCase())||o.includes(n.toLocaleLowerCase())},k=function(e){var t=e.onSelect,n=e.selection,r=e.startIndex,o=e.commitItem,a=e.activeIndex,s=e.searchQuery,l=e.organizations,c=e.setItemsCount,u=e.setActiveIndex,f=e.repositoriesMap;if(!l||!f)return null;var h=0,m=n.organizationId,v=n.repositoryId,p=function(e,n,r){var i={folderId:void 0,repositoryId:e,organizationId:n};r?o(i):t(i)},g=l.flatMap(function(e){var t,n=null===(t=f.get(e.id))||void 0===t?void 0:t.filter(function(e){return!e.disabled});return null==n?void 0:n.filter(function(t){return _({organization:e,repository:t,searchQuery:s})}).map(function(t){var n=h++,o="".concat(e.name,"/").concat(t.name),s=m===e.id&&v===t.id;return/*#__PURE__*/(0,i.jsx)(x.G,{name:o,icon:/*#__PURE__*/(0,i.jsx)(w.Z,{}),selected:s,index:r+n,className:C().listItem,isActive:a===r+n,setActiveIndex:function(){return u(r+n)},onClick:function(){return p(t.id,e.id)},onEnterPress:function(){return p(t.id,e.id,!0)}},o)})});return(0,d.useEffect)(function(){c(g.length)},[c,g.length]),g.length?/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("p",{className:C().targetsListSubtitle,children:"Github repositories"}),g]}):null},j=n(27729),E=n(40230),M=function(e){var t=e.query,n=e.teamId,r=e.onSelect,o=e.selection,a=e.startIndex,s=e.commitItem,l=e.activeIndex,c=e.setItemsCount,u=e.setActiveIndex,f=e.currentFolderId,h=(0,(0,E.k)(n).getAllFolderPaths)(),m=function(e,t){var n={folderId:e,repositoryId:void 0,organizationId:void 0};t?s(n):r(n)},v=h.map(function(e){return{ithFolder:e[e.length-1],fullPath:e.reduce(function(e,t){return"".concat(e,"/").concat(t.name||j.Yp)},"")}}).filter(function(e){var n=e.fullPath;return!t||n.toLowerCase().includes(t.toLowerCase())}).map(function(e,t){var n=e.fullPath,r=e.ithFolder;/*#__PURE__*/return(0,i.jsx)(x.G,{name:n,index:a+t,className:C().listItem,onClick:function(){return m(r.id)},disabled:r.id===f,isActive:l===a+t,selected:r.id===(null==o?void 0:o.folderId),onEnterPress:function(){return m(r.id,!0)},setActiveIndex:function(){return u(a+t)}},r.id)});return(0,d.useEffect)(function(){c(v.length)},[c,v.length]),/*#__PURE__*/(0,i.jsx)(i.Fragment,{children:v})},S=n(83433),T=function(e){var t=e.teamId,n=e.onSelect,a=e.selection,s=e.commitItem,l=e.searchQuery,c=e.changingTeam,u=e.currentFolderId,f=(0,y.k3)(),h=f.organizations,m=f.repositoriesMap,v=!l||!u&&!c,p=(0,r.Z)((0,o.R)({folders:0,repos:0}),2),g=p[0],b=g.folders,w=g.repos,I=p[1],_=(0,d.useMemo)(function(){return Array.from(Array(b+w+(v?1:0)).keys())},[w,b,v]),j=(0,S.c)({items:_,customScrollIntoView:function(e){var t=document.querySelector("[".concat(x.z,'="').concat(e,'"]'));null==t||t.scrollIntoView({block:"nearest",behavior:"auto",inline:"nearest"})},onSelect:function(e){var t=document.querySelector("[".concat(x.z,'="').concat(e,'"]'));null==t||t.click()}}),E=j.activeIndex,T=j.setActiveIndex,O=(0,d.useCallback)(function(e){return I({repos:e})},[I]),P=(0,d.useCallback)(function(e){return I({folders:e})},[I]),A=function(e){var t={folderId:null};e?s(t):n(t)};return/*#__PURE__*/(0,i.jsxs)("div",{className:C().root,children:[/*#__PURE__*/(0,i.jsx)(k,{startIndex:0,onSelect:n,selection:a,commitItem:s,activeIndex:E,searchQuery:l,setItemsCount:O,organizations:h,setActiveIndex:T,repositoriesMap:m}),/*#__PURE__*/(0,i.jsx)("p",{className:C().targetsListSubtitle,children:"Folders"}),v&&/*#__PURE__*/(0,i.jsx)(x.G,{index:w,name:"Unsorted",className:C().listItem,isActive:E===w,onClick:function(){return A()},selected:(null==a?void 0:a.folderId)===null,onEnterPress:function(){return A(!0)},setActiveIndex:function(){return T(w)},disabled:!u&&!c}),/*#__PURE__*/(0,i.jsx)(M,{teamId:t,onSelect:n,query:l,selection:a,commitItem:s,activeIndex:E,setItemsCount:P,setActiveIndex:T,currentFolderId:u,startIndex:w+(v?1:0)})]})},O=n(3635),P=n(33757),A=/*#__PURE__*/n.n(P),N=function(e){var t=e.screen,n=e.workspaceName;switch(t){case"folders":return'Move "'.concat(n,'" to new folder');case"teams":return'Move "'.concat(n,'" to different team');default:return""}},Z=function(e){return/*#__PURE__*/(0,i.jsx)("div",{className:(0,O.Z)(A().root),children:N(e)})},L=n(32472),F=function(e){var t=e.commitTeamId,n=e.searchQuery,r=e.currentTeamId,o=e.selectedTeamId,s=e.setSelectedTeamId,l=(0,a.lh)()||[],c=(0,a.K)()||new Map,u=function(e,t){return!!e&&e.name.toLowerCase().includes(t.toLowerCase())},d=l.filter(function(e){return u(c.get(e.teamId),n)}),f=(0,S.c)({items:d,customScrollIntoView:function(e){var t=document.querySelector("[".concat(x.z,'="').concat(e,'"]'));null==t||t.scrollIntoView({block:"nearest",behavior:"auto",inline:"nearest"})},onSelect:function(e){return s(e.teamId)}}),h=f.activeIndex,m=f.setActiveIndex;return/*#__PURE__*/(0,i.jsx)("div",{className:C().root,children:l.filter(function(e){return u(c.get(e.teamId),n)}).map(function(e,n){var a;/*#__PURE__*/return(0,i.jsx)(x.G,{index:n,isActive:h===n,disabled:e.teamId===r,className:C().listItem,selected:e.teamId===o,name:(null===(a=c.get(e.teamId))||void 0===a?void 0:a.name)||"",onEnterPress:function(){return t(e.teamId)},onClick:function(){return s(e.teamId)},setActiveIndex:function(){return m(n)}},e.teamId)})})},D=n(32114),R=/*#__PURE__*/n.n(D),B=function(e){switch(e){case"folders":return"Search folder name ...";case"teams":return"Search team name ...";default:return""}},z=function(e){var t=e.file,n=e.isOpen,r=e.onClose,o=e.onConfirm,a=e.currentTeamId,s=e.selectedTeamId,h=e.selectionState,m=e.setSelectedTeamId,v=e.setSelectionState,p=(0,u.Z)(e,["file","isOpen","onClose","onConfirm","currentTeamId","selectedTeamId","selectionState","setSelectedTeamId","setSelectionState"]),g=(0,d.useRef)(null),x=(0,d.useState)(""),y=x[0],w=x[1],I=(0,d.useState)("folders"),C=I[0],_=I[1];(0,d.useEffect)(function(){if(n){var e;null===(e=g.current)||void 0===e||e.focus()}},[n]);var k=function(){switch(C){case"folders":return Object.values(h).every(function(e){return void 0===e});case"teams":return s===a;default:return!0}},j=function(){switch(C){case"folders":k()||o();break;case"teams":var e;_("folders"),w(""),null===(e=g.current)||void 0===e||e.focus()}};return/*#__PURE__*/(0,i.jsxs)(f.Z,(0,c.Z)((0,l.Z)({hideCloseButton:!0,isOpen:n,onClose:r,"data-screen":C,className:R().modalRoot,contentWrapperClassName:R().modalWrapper},p),{children:[/*#__PURE__*/(0,i.jsxs)("div",{className:R().pillContainer,children:[/*#__PURE__*/(0,i.jsx)(Z,{screen:C,workspaceName:t.title||L.SF}),"folders"===C&&/*#__PURE__*/(0,i.jsx)("a",{className:R().headerLink,onClick:function(){var e;w(""),_("teams"),null===(e=g.current)||void 0===e||e.focus()},children:"Move to a different team"})]}),/*#__PURE__*/(0,i.jsx)("input",{autoFocus:!0,type:"text",ref:g,value:y,className:R().searchInput,placeholder:B(C),onChange:function(e){return w(e.target.value)}}),"folders"===C&&/*#__PURE__*/(0,i.jsx)(T,{teamId:s,selection:h,commitItem:j,onSelect:v,searchQuery:y.trim(),changingTeam:s!==a,currentFolderId:t.teamId===s?t.folderId:void 0}),"teams"===C&&/*#__PURE__*/(0,i.jsx)(F,{currentTeamId:a,commitTeamId:j,searchQuery:y.trim(),selectedTeamId:s,setSelectedTeamId:m}),/*#__PURE__*/(0,i.jsx)(b,{screen:C,onCancelClick:r,onConfirmClick:j,isConfirmDisabled:k()})]}))},W=n(70039),H=n(80498),K=/*#__PURE__*/(0,d.forwardRef)(function(e,t){var n=e.workspace,l=(0,H.Z)(),c=l.onOpen,u=l.onClose,f=l.isOpen,h=(0,H.Z)(),m=h.onOpen,v=h.onClose,p=h.isOpen,g=(0,a.LP)(),b=(0,s.Z)(),x=(0,d.useState)(null!=g?g:""),y=x[0],w=x[1],I=(0,r.Z)((0,o.R)({}),3),C=I[0],_=I[1],k=I[2];C.folderId;var j=C.organizationId,E=C.repositoryId,M=(0,d.useCallback)(function(){m(),k({}),w(null!=g?g:"")},[m,k,g]);return(0,d.useImperativeHandle)(t,function(){return{openMoveModal:M}},[M]),/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[p&&/*#__PURE__*/(0,i.jsx)(z,{isOpen:!0,file:n,onClose:v,onConfirm:function(e){if(y){var t=null!=e?e:C,r=t.folderId,i=t.organizationId,o=t.repositoryId;void 0!==r&&(b({folderId:r,file:n,eventSource:"modal",teamId:y}),v()),i&&o&&(v(),c())}},currentTeamId:g,selectedTeamId:y,selectionState:C,setSelectedTeamId:w,setSelectionState:_}),j&&E&&f&&/*#__PURE__*/(0,i.jsx)(W.b,{isOpen:!0,workspace:n,repositoryId:E,organizationId:j,onClose:u})]})})},23956:function(e,t,n){"use strict";var r,i,o,a,s,l,c;n.d(t,{EL:function(){return r},Tn:function(){return i},gZ:function(){return o},hs:function(){return a}}),(s=r||(r={})).Diagram="diagram",s.Text="text",(i||(i={})).InsertMarkdown="insert-markdown",(l=o||(o={})).Pending="pending",l.InProgress="in-progress",l.Completed="completed",l.Error="error",(c=a||(a={})).DiagramDescription="diagram-description",c.Outline="generate-outline",c.DiagramQuestions="generate-diagram-questions",c.Other="other"},37637:function(e){e.exports={container:"WorkspaceFeatures_container__MUkJe",collaboratorsFeature:"WorkspaceFeatures_collaboratorsFeature__0zu4y",shareFeature:"WorkspaceFeatures_shareFeature__P29vA",commentsToggle:"WorkspaceFeatures_commentsToggle__OvtDD",unreadIndicator:"WorkspaceFeatures_unreadIndicator__bTqnB",icon:"WorkspaceFeatures_icon__Nl3XG",isActive:"WorkspaceFeatures_isActive__6ibRj",disabled:"WorkspaceFeatures_disabled__mh6oK",metadataToggle:"WorkspaceFeatures_metadataToggle__KeZkT",active:"WorkspaceFeatures_active__sgMyS",workspaceFeaturePopup:"WorkspaceFeatures_workspaceFeaturePopup__nauU_",shareWorkspace:"WorkspaceFeatures_shareWorkspace__b_EDw",tooltipContainer:"WorkspaceFeatures_tooltipContainer__5r72O",button:"WorkspaceFeatures_button__DN27P",quickShare:"WorkspaceFeatures_quickShare__pkF7q"}},98850:function(e){e.exports={container:"ShareWorkspace_container__Go1SK",header:"ShareWorkspace_header__iFLdu",qrCodeButton:"ShareWorkspace_qrCodeButton__KHBZR",userList:"ShareWorkspace_userList___ZJo6",userRow:"ShareWorkspace_userRow__4i_AD",info:"ShareWorkspace_info__ZzZjS"}},2148:function(e){e.exports={tableAvatars:"TableAvatars_tableAvatars__NyU0p",tableAvatar:"TableAvatars_tableAvatar__rp18T",tableAvatarIcon:"TableAvatars_tableAvatarIcon__baytx"}},90794:function(e){e.exports={rootContainer:"TableEmptyPlaceholder_rootContainer___MVUo"}},44190:function(e){e.exports={row:"TableRow_row__APTMV",isFocused:"TableRow_isFocused__ByQ3a",isFaded:"TableRow_isFaded__1deYZ",isClickable:"TableRow_isClickable__HV9N1"}},94553:function(e){e.exports={deleteOption:"FileActions_deleteOption__6NZHa"}},40679:function(e){e.exports={gettingStartedFileCards:"GettingStartedFileCards_gettingStartedFileCards__j7AQk",card:"GettingStartedFileCards_card__cWTvP",sparklesIcon:"GettingStartedFileCards_sparklesIcon__k_ZKA",title:"GettingStartedFileCards_title__TrtnO"}},70745:function(e){e.exports={gutter:"DashboardTableSkeleton_gutter__ut_gn",name:"DashboardTableSkeleton_name__C1_ik",folder:"DashboardTableSkeleton_folder__T7O2u",createdAt:"DashboardTableSkeleton_createdAt__uF5YO",updatedAt:"DashboardTableSkeleton_updatedAt__gX1pz",comments:"DashboardTableSkeleton_comments__TvMDe",views:"DashboardTableSkeleton_views__7wDz0",author:"DashboardTableSkeleton_author__fmcB8",emptySpace:"DashboardTableSkeleton_emptySpace__fFX_s"}},32114:function(e){e.exports={modalRoot:"MoveFileModal_modalRoot__enhn3",pillContainer:"MoveFileModal_pillContainer__ZqFps",headerLink:"MoveFileModal_headerLink__OYhLG",modalWrapper:"MoveFileModal_modalWrapper__ZWC_v",searchInput:"MoveFileModal_searchInput__PLj1_",content:"MoveFileModal_content__52G3f",fullSearchSuggestion:"MoveFileModal_fullSearchSuggestion__xGpHy",contentWrapper:"MoveFileModal_contentWrapper__xi125"}},10973:function(e){e.exports={shortcuts:"MoveFileModalFooter_shortcuts__4DWvk",keys:"MoveFileModalFooter_keys__XRQmJ",buttonsWrapper:"MoveFileModalFooter_buttonsWrapper__gwUgw"}},33757:function(e){e.exports={root:"MoveFileModalPill_root__HT533",light:"MoveFileModalPill_light__akniI"}},83332:function(e){e.exports={root:"MoveFileModalTargetsList_root__vm48V",targetsListSubtitle:"MoveFileModalTargetsList_targetsListSubtitle__aMXbh",listItem:"MoveFileModalTargetsList_listItem__TZ7s3"}},80150:function(e){e.exports={list:"List_list___urx6",wrapper:"List_wrapper__Sm3Jw"}},68262:function(e,t,n){"use strict";var r=n(23586);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},13980:function(e,t,n){e.exports=n(68262)()},23586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},94076:function(e,t,n){var r=n(89235);function i(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=i},47878:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},81432:function(e){e.exports={L:1,M:0,Q:3,H:2}},84695:function(e,t,n){var r=n(35856);function i(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(var o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new i(n,0).mod(e)}},e.exports=i},62768:function(e,t,n){var r=n(94076),i=n(15415),o=n(47878),a=n(17382),s=n(84695);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1)&&!(this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)},c.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=a.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},c.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)-2==o||2==o||-2==s||2==s||0==o&&0==s?this.modules[r+o][i+s]=!0:this.modules[r+o][i+s]=!1}},c.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=a.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!e&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var c=!1;o<e.length&&(c=(e[o]>>>i&1)==1),a.getMask(t,r,s-l)&&(c=!c),this.modules[r][s-l]=c,-1==--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=i.getRSBlocks(e,t),s=new o,c=0;c<n.length;c++){var u=n[c];s.put(u.mode,4),s.put(u.getLength(),a.getLengthInBits(u.mode,e)),u.write(s)}for(var d=0,c=0;c<r.length;c++)d+=r[c].dataCount;if(s.getLengthInBits()>8*d)throw Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,i=0,o=Array(t.length),l=Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;r=Math.max(r,u),i=Math.max(i,d),o[c]=Array(u);for(var f=0;f<o[c].length;f++)o[c][f]=255&e.buffer[f+n];n+=u;var h=a.getErrorCorrectPolynomial(d),m=new s(o[c],h.getLength()-1).mod(h);l[c]=Array(h.getLength()-1);for(var f=0;f<l[c].length;f++){var v=f+m.getLength()-l[c].length;l[c][f]=v>=0?m.get(v):0}}for(var p=0,f=0;f<t.length;f++)p+=t[f].totalCount;for(var g=Array(p),b=0,f=0;f<r;f++)for(var c=0;c<t.length;c++)f<o[c].length&&(g[b++]=o[c][f]);for(var f=0;f<i;f++)for(var c=0;c<t.length;c++)f<l[c].length&&(g[b++]=l[c][f]);return g},e.exports=l},15415:function(e,t,n){var r=n(81432);function i(e,t){this.totalCount=e,this.dataCount=t}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new i(l,c));return o},i.getRsBlockTable=function(e,t){switch(t){case r.L:return i.RS_BLOCK_TABLE[(e-1)*4+0];case r.M:return i.RS_BLOCK_TABLE[(e-1)*4+1];case r.Q:return i.RS_BLOCK_TABLE[(e-1)*4+2];case r.H:return i.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},e.exports=i},35856:function(e){for(var t={glog:function(e){if(e<1)throw Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(var n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(var n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},89235:function(e){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},17382:function(e,t,n){var r=n(89235),i=n(84695),o=n(35856),a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;s.getBCHDigit(t)-s.getBCHDigit(s.G15)>=0;)t^=s.G15<<s.getBCHDigit(t)-s.getBCHDigit(s.G15);return(e<<10|t)^s.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;s.getBCHDigit(t)-s.getBCHDigit(s.G18)>=0;)t^=s.G18<<s.getBCHDigit(t)-s.getBCHDigit(s.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return s.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case a.PATTERN000:return(t+n)%2==0;case a.PATTERN001:return t%2==0;case a.PATTERN010:return n%3==0;case a.PATTERN011:return(t+n)%3==0;case a.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case a.PATTERN101:return t*n%2+t*n%3==0;case a.PATTERN110:return(t*n%2+t*n%3)%2==0;case a.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),n=0;n<e;n++)t=t.multiply(new i([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else if(t<41)switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw Error("mode:"+e)}else throw Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0)&&!(t<=r+s))for(var l=-1;l<=1;l++)!(i+l<0)&&!(t<=i+l)&&(0!=s||0!=l)&&a==e.isDark(r+s,i+l)&&o++;o>5&&(n+=3+o-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var c=0;e.isDark(r,i)&&c++,e.isDark(r+1,i)&&c++,e.isDark(r,i+1)&&c++,e.isDark(r+1,i+1)&&c++,(0==c||4==c)&&(n+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);for(var u=0,i=0;i<t;i++)for(var r=0;r<t;r++)e.isDark(r,i)&&u++;return n+Math.abs(100*u/t/t-50)/5*10}};e.exports=s},41498:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"],o=["value","size","level","bgColor","fgColor","includeMargin","imageSettings"],a=["renderAs"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=b(e);return n=t?Reflect.construct(i,arguments,b(this).constructor):i.apply(this,arguments),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n(2784);n(13980);var w=n(62768),I=n(81432);function C(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r<2048?t+=String.fromCharCode(192|r>>6)+String.fromCharCode(128|63&r):r<55296||r>=57344?t+=String.fromCharCode(224|r>>12)+String.fromCharCode(128|r>>6&63)+String.fromCharCode(128|63&r):(n++,t+=String.fromCharCode(240|(r=65536+((1023&r)<<10|1023&e.charCodeAt(n)))>>18)+String.fromCharCode(128|r>>12&63)+String.fromCharCode(128|r>>6&63)+String.fromCharCode(128|63&r))}return t}var _={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach(function(e,r){var i=null;e.forEach(function(o,a){if(!o&&null!==i){n.push("M".concat(i+t," ").concat(r+t,"h").concat(a-i,"v1H").concat(i+t,"z")),i=null;return}if(a===e.length-1){if(!o)return;null===i?n.push("M".concat(a+t,",").concat(r+t," h1v1H").concat(a+t,"z")):n.push("M".concat(i+t,",").concat(r+t," h").concat(a+1-i,"v1H").concat(i+t,"z"));return}o&&null===i&&(i=a)})}),n.join("")}function j(e,t){return e.slice().map(function(e,n){return n<t.y||n>=t.y+t.h?e:e.map(function(e,n){return(n<t.x||n>=t.x+t.w)&&e})})}function E(e,t){var n=e.imageSettings,r=e.size,i=e.includeMargin;if(null==n)return null;var o=t.length+2*(i?4:0),a=Math.floor(.1*r),s=o/r,l=(n.width||a)*s,c=(n.height||a)*s,u=null==n.x?t.length/2-l/2:n.x*s,d=null==n.y?t.length/2-c/2:n.y*s,f=null;if(n.excavate){var h=Math.floor(u),m=Math.floor(d),v=Math.ceil(l+u-h),p=Math.ceil(c+d-m);f={x:h,y:m,w:v,h:p}}return{x:u,y:d,h:c,w:l,excavation:f}}var M=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}(),S=/*#__PURE__*/function(e){m(n,e);var t=p(n);function n(){var e;d(this,n);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return x(g(e=t.call.apply(t,[this].concat(i))),"_canvas",void 0),x(g(e),"_image",void 0),x(g(e),"state",{imgLoaded:!1}),x(g(e),"handleImageLoad",function(){e.setState({imgLoaded:!0})}),e}return h(n,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,n;(null===(t=this.props.imageSettings)||void 0===t?void 0:t.src)!==(null===(n=e.imageSettings)||void 0===n?void 0:n.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,i=e.bgColor,o=e.fgColor,a=e.includeMargin,s=e.imageSettings,l=new w(-1,I[r]);if(l.addData(C(t)),l.make(),null!=this._canvas){var c=this._canvas,u=c.getContext("2d");if(!u)return;var d=l.modules;if(null===d)return;var f=a?4:0,h=d.length+2*f,m=E(this.props,d);null!=s&&null!=m&&null!=m.excavation&&(d=j(d,m.excavation));var v=window.devicePixelRatio||1;c.height=c.width=n*v;var p=n/h*v;u.scale(p,p),u.fillStyle=i,u.fillRect(0,0,h,h),u.fillStyle=o,M?u.fill(new Path2D(k(d,f))):d.forEach(function(e,t){e.forEach(function(e,n){e&&u.fillRect(n+f,t+f,1,1)})}),this.state.imgLoaded&&this._image&&null!=m&&u.drawImage(this._image,m.x+f,m.y+f,m.w,m.h)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.value,t.size),r=(t.level,t.bgColor,t.fgColor,t.style),o=(t.includeMargin,t.imageSettings),a=u(t,i),l=c({height:n,width:n},r),d=null,f=o&&o.src;return null!=o&&null!=f&&(d=/*#__PURE__*/y.createElement("img",{src:f,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(t){return e._image=t}})),/*#__PURE__*/y.createElement(y.Fragment,null,/*#__PURE__*/y.createElement("canvas",s({style:l,height:n,width:n,ref:function(t){return e._canvas=t}},a)),d)}}]),n}(y.PureComponent);x(S,"defaultProps",_);var T=/*#__PURE__*/function(e){m(n,e);var t=p(n);function n(){return d(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.size,r=e.level,i=e.bgColor,a=e.fgColor,l=e.includeMargin,c=e.imageSettings,d=u(e,o),f=new w(-1,I[r]);f.addData(C(t)),f.make();var h=f.modules;if(null===h)return null;var m=l?4:0,v=h.length+2*m,p=E(this.props,h),g=null;null!=c&&null!=p&&(null!=p.excavation&&(h=j(h,p.excavation)),g=/*#__PURE__*/y.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+m,y:p.y+m,preserveAspectRatio:"none"}));var b=k(h,m);return /*#__PURE__*/y.createElement("svg",s({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(v," ").concat(v)},d),/*#__PURE__*/y.createElement("path",{fill:i,d:"M0,0 h".concat(v,"v").concat(v,"H0z")}),/*#__PURE__*/y.createElement("path",{fill:a,d:b}),g)}}]),n}(y.PureComponent);x(T,"defaultProps",_);var O=function(e){var t=e.renderAs,n=u(e,a),r="svg"===t?T:S;return /*#__PURE__*/y.createElement(r,n)};O.defaultProps=c({renderAs:"canvas"},_),e.exports=O},88510:function(e,t,n){"use strict";/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{MG:function(){return g}});var i=n(2784);/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a(e,t,n){var r,i,o=null!=(r=n.initialDeps)?r:[];return function(){n.key&&null!=n.debug&&n.debug()&&(r=Date.now());var r,a,s=e();if(!(s.length!==o.length||s.some(function(e,t){return o[t]!==e})))return i;if(o=s,n.key&&null!=n.debug&&n.debug()&&(a=Date.now()),i=t.apply(void 0,s),n.key&&null!=n.debug&&n.debug()){var l=Math.round((Date.now()-r)*100)/100,c=Math.round((Date.now()-a)*100)/100,u=c/16,d=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c "+d(c,5)+" /"+d(l,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*u,120))+"deg 100% 31%);",null==n?void 0:n.key)}return null==n||null==n.onChange||n.onChange(i),i}}function s(e,t){if(void 0!==e)return e;throw Error("Unexpected undefined"+(t?": "+t:""))}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l=function(e){return e},c=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[],i=t;i<=n;i++)r.push(i);return r},u=function(e,t){var n=e.scrollElement;if(n){var r=function(e){t({width:Math.round(e.width),height:Math.round(e.height)})};r(n.getBoundingClientRect());var i=new ResizeObserver(function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var i=t.borderBoxSize[0];if(i){r({width:i.inlineSize,height:i.blockSize});return}}r(n.getBoundingClientRect())});return i.observe(n,{box:"border-box"}),function(){i.unobserve(n)}}},d=function(e,t){var n=e.scrollElement;if(n){var r=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),n.addEventListener("scroll",r,{passive:!0}),function(){n.removeEventListener("scroll",r)}}},f=function(e,t,n){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},h=function(e,t,n){var r,i,o=t.adjustments,a=t.behavior;null==(r=n.scrollElement)||null==r.scrollTo||r.scrollTo(((i={})[n.options.horizontal?"left":"top"]=e+(void 0===o?0:o),i.behavior=a,i))},m=function(e){var t,n,r=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,n=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver(function(e){e.forEach(function(e){r._measureElement(e.target,e)})}):null)},{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach(function(t){var n=t[0];void 0===t[1]&&delete e[n]}),r.options=o({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:l,rangeExtractor:c,onChange:function(){},measureElement:f,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==r.options.onChange||r.options.onChange(r)},this.cleanup=function(){r.unsubs.filter(Boolean).forEach(function(e){return e()}),r.unsubs=[],r.scrollElement=null},this._didMount=function(){return r.measureElementCache.forEach(r.observer.observe),function(){r.observer.disconnect(),r.cleanup()}},this._willUpdate=function(){var e=r.options.getScrollElement();r.scrollElement!==e&&(r.cleanup(),r.scrollElement=e,r._scrollToOffset(r.scrollOffset,{adjustments:void 0,behavior:void 0}),r.unsubs.push(r.options.observeElementRect(r,function(e){var t=r.scrollRect;r.scrollRect=e,(r.options.horizontal?e.width!==t.width:e.height!==t.height)&&r.maybeNotify()})),r.unsubs.push(r.options.observeElementOffset(r,function(e){r.scrollAdjustments=0,r.scrollOffset!==e&&(null!==r.isScrollingTimeoutId&&(clearTimeout(r.isScrollingTimeoutId),r.isScrollingTimeoutId=null),r.isScrolling=!0,r.scrollDirection=r.scrollOffset<e?"forward":"backward",r.scrollOffset=e,r.maybeNotify(),r.isScrollingTimeoutId=setTimeout(function(){r.isScrollingTimeoutId=null,r.isScrolling=!1,r.scrollDirection=null,r.maybeNotify()},r.options.scrollingDelay))})))},this.getSize=function(){return r.scrollRect[r.options.horizontal?"width":"height"]},this.memoOptions=a(function(){return[r.options.count,r.options.paddingStart,r.options.scrollMargin,r.options.getItemKey]},function(e,t,n,i){return r.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:i}},{key:!1}),this.getFurthestMeasurement=function(e,t){for(var n=new Map,i=new Map,o=t-1;o>=0;o--){var a=e[o];if(!n.has(a.lane)){var s=i.get(a.lane);if(null==s||a.end>s.end?i.set(a.lane,a):a.end<s.end&&n.set(a.lane,!0),n.size===r.options.lanes)break}}return i.size===r.options.lanes?Array.from(i.values()).sort(function(e,t){return e.end-t.end})[0]:void 0},this.getMeasurements=a(function(){return[r.memoOptions(),r.itemSizeCache]},function(e,t){var n=e.count,i=e.paddingStart,o=e.scrollMargin,a=e.getItemKey,s=r.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,r.pendingMeasuredCacheIndexes):0;r.pendingMeasuredCacheIndexes=[];for(var l=r.measurementsCache.slice(0,s),c=s;c<n;c++){var u=a(c),d=1===r.options.lanes?l[c-1]:r.getFurthestMeasurement(l,c),f=d?d.end:i+o,h=t.get(u),m="number"==typeof h?h:r.options.estimateSize(c),v=f+m,p=d?d.lane:c%r.options.lanes;l[c]={index:c,start:f,size:m,end:v,key:u,lane:p}}return r.measurementsCache=l,l},{key:!1,debug:function(){return r.options.debug}}),this.calculateRange=a(function(){return[r.getMeasurements(),r.getSize(),r.scrollOffset]},function(e,t,n){return r.range=function(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=v(0,i,function(e){return t[e].start},r),a=o;a<i&&t[a].end<r+n;)a++;return{startIndex:o,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:n})},{key:!1,debug:function(){return r.options.debug}}),this.maybeNotify=a(function(){var e=r.calculateRange();return[e.startIndex,e.endIndex,r.isScrolling]},function(){r.notify()},{key:!1,debug:function(){return r.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=a(function(){return[r.options.rangeExtractor,r.calculateRange(),r.options.overscan,r.options.count]},function(e,t,n,r){return e(o({},t,{overscan:n,count:r}))},{key:!1,debug:function(){return r.options.debug}}),this.indexFromElement=function(e){var t=r.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var n,i=r.indexFromElement(e),o=r.measurementsCache[i];if(o){var a=r.measureElementCache.get(o.key);if(!e.isConnected){r.observer.unobserve(e),e===a&&r.measureElementCache.delete(o.key);return}a!==e&&(a&&r.observer.unobserve(a),r.observer.observe(e),r.measureElementCache.set(o.key,e));var s=r.options.measureElement(e,t,r),l=s-(null!=(n=r.itemSizeCache.get(o.key))?n:o.size);0!==l&&(o.start<r.scrollOffset&&r._scrollToOffset(r.scrollOffset,{adjustments:r.scrollAdjustments+=l,behavior:void 0}),r.pendingMeasuredCacheIndexes.push(i),r.itemSizeCache=new Map(r.itemSizeCache.set(o.key,s)),r.notify())}},this.measureElement=function(e){e&&r._measureElement(e,void 0)},this.getVirtualItems=a(function(){return[r.getIndexes(),r.getMeasurements()]},function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=t[e[r]];n.push(o)}return n},{key:!1,debug:function(){return r.options.debug}}),this.getVirtualItemForOffset=function(e){var t=r.getMeasurements();return s(t[v(0,t.length-1,function(e){return s(t[e]).start},e)])},this.getOffsetForAlignment=function(e,t){var n=r.getSize();"auto"===t&&(t=e<=r.scrollOffset?"start":e>=r.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));var i=r.options.horizontal?"scrollWidth":"scrollHeight";return Math.max(Math.min((r.scrollElement?"document"in r.scrollElement?r.scrollElement.document.documentElement[i]:r.scrollElement[i]:0)-r.getSize(),e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,r.options.count-1));var n=s(r.getMeasurements()[e]);if("auto"===t){if(n.end>=r.scrollOffset+r.getSize()-r.options.scrollPaddingEnd)t="end";else{if(!(n.start<=r.scrollOffset+r.options.scrollPaddingStart))return[r.scrollOffset,t];t="start"}}var i="end"===t?n.end+r.options.scrollPaddingEnd:n.start-r.options.scrollPaddingStart;return[r.getOffsetForAlignment(i,t),t]},this.isDynamicMode=function(){return r.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==r.scrollToIndexTimeoutId&&(clearTimeout(r.scrollToIndexTimeoutId),r.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var n=void 0===t?{}:t,i=n.align,o=n.behavior;r.cancelScrollToIndex(),"smooth"===o&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.getOffsetForAlignment(e,void 0===i?"start":i),{adjustments:void 0,behavior:o})},this.scrollToIndex=function(e,t){var n=void 0===t?{}:t,i=n.align,o=n.behavior;e=Math.max(0,Math.min(e,r.options.count-1)),r.cancelScrollToIndex(),"smooth"===o&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var a=r.getOffsetForIndex(e,void 0===i?"auto":i),s=a[0],l=a[1];r._scrollToOffset(s,{adjustments:void 0,behavior:o}),"smooth"!==o&&r.isDynamicMode()&&(r.scrollToIndexTimeoutId=setTimeout(function(){r.scrollToIndexTimeoutId=null,r.measureElementCache.has(r.options.getItemKey(e))&&1>Math.abs(r.getOffsetForIndex(e,l)[0]-r.scrollOffset)||r.scrollToIndex(e,{align:l,behavior:o})}))},this.scrollBy=function(e,t){var n=(void 0===t?{}:t).behavior;r.cancelScrollToIndex(),"smooth"===n&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=function(){var e;return((null==(e=r.getMeasurements()[r.options.count-1])?void 0:e.end)||r.options.paddingStart)-r.options.scrollMargin+r.options.paddingEnd},this._scrollToOffset=function(e,t){var n=t.adjustments,i=t.behavior;r.options.scrollToFn(e,{behavior:i,adjustments:n},r)},this.measure=function(){r.itemSizeCache=new Map,r.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(e){r.itemSizeCache.set(e.key,e.size)}),this.maybeNotify()},v=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else{if(!(o>r))return i;t=i-1}}return e>0?e-1:0},p="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function g(e){var t,n,o,a;return t=r({observeElementRect:u,observeElementOffset:d,scrollToFn:h},e),n=i.useReducer(function(){return{}},{})[1],o=r({},t,{onChange:function(e){n(),null==t.onChange||t.onChange(e)}}),(a=i.useState(function(){return new m(o)})[0]).setOptions(o),i.useEffect(function(){return a._didMount()},[]),p(function(){return a._willUpdate()}),a}}},function(e){e.O(0,[2888],function(){return e(e.s=92348)}),_N_E=e.O()}]);